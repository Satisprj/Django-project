<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
    <title>Document</title>
</head>
<body>
{% extends 'main.html' %}
{% block content %}
<style>
    .home-container{
        display: grid;
        grid-template-columns: 1fr 3fr 1fr;
    }
</style>
<div class="home-container">
    <div>
        <h3>Browse topic</h3>
        <div>
            <a href="{%url 'home'%}">ALL</a>
        </div>
        {%for topics in topic%}
        <div>
            <a href="{%url 'home'%}?q={{topics.name}}">{{topics.name}}</a>
        </div>
        {%endfor%}
    </div>

    <div>
        <h5>{{room_count}}total room</h5>
        <a href="{% url 'create_room' %}">Create room</a>
    <div class="room-list">
        {% for room in rooms %}
        <div class="room-item">
            {%if request.user == room.host%}
            <a href="{% url 'update_room' room.id %}">Edit</a>
            <a href="{% url 'delete_room' room.id %}">Delete</a>
            {%endif%}
            <span>@{{ room.host.username }}</span>
            <h3>{{ room.id }} -- <a href="room/{{ room.id }}/">{{ room.name }}</a></h3>
            {{ room.topic.name }}
        </div>
        <hr>
        {% endfor %}
    </div>

    </div>
    <div>
        <h3>Recent activity</h3>
        {%for message in room_message%}
        
            @{{message.user}}--{{message.created|timesince}}
            <br>
            replied to:"{{message.room}}"
            <p>{{message}}</p>
            
            {%if request.user == message.user%}
    
        <a href="{%url 'delete-message' message.id%}">Delete</a>
        {%endif%}
        <hr>

        {%endfor%}
    </div>
</div>

{% endblock %}
</body>
</html>
